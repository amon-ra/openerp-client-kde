<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Koo API documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Koo</b>::<b>Rpc</b>::<b>Rpc</b>::<a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html">Session</a>
  </div>
</div>
<div class="contents">
<h1>Koo::Rpc::Rpc::Session Class Reference</h1><!-- doxytag: class="Koo::Rpc::Rpc::Session" -->The <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html" title="The Session class provides a simple way of login and executing function in a server...">Session</a> class provides a simple way of login and executing function in a server.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classKoo_1_1Rpc_1_1Rpc_1_1Session-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#8bf7bec0ab8f3c1a730fa60244e4e2a0">callAsync</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls asynchronously the specified method on the given object on the server.  <a href="#8bf7bec0ab8f3c1a730fa60244e4e2a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#c4e388cf7a0901cb909850e4505a4996">executeAsync</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Same as <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#8bf7bec0ab8f3c1a730fa60244e4e2a0" title="Calls asynchronously the specified method on the given object on the server.">callAsync()</a> but uses the notify mechanism to notify exceptions.  <a href="#c4e388cf7a0901cb909850e4505a4996"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#1d614ba11211a32bd6ba5277a85543b1">call</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls the specified method on the given object on the server.  <a href="#1d614ba11211a32bd6ba5277a85543b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#5888cce74b5ea93adfc91a4db63c5b37">execute</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Same as <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#1d614ba11211a32bd6ba5277a85543b1" title="Calls the specified method on the given object on the server.">call()</a> but uses the notify mechanism to notify exceptions.  <a href="#5888cce74b5ea93adfc91a4db63c5b37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#0eeec0ae6273edd6833cfce90ac6aee1">login</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Logs in the given server with specified name and password.  <a href="#0eeec0ae6273edd6833cfce90ac6aee1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#fc3eed3d7398d661acee18a88d1ffc27">reloadContext</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reloads the session context.  <a href="#fc3eed3d7398d661acee18a88d1ffc27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4895557c002522b712669ad83ccdba0a"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::logged" ref="4895557c002522b712669ad83ccdba0a" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#4895557c002522b712669ad83ccdba0a">logged</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns whether the login function has been called and was successfull. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#38d3a0e3d90f5d05c90b61384bbf65c3">logout</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Logs out of the server.  <a href="#38d3a0e3d90f5d05c90b61384bbf65c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#d4a31208635a53c29380cc4aebab587a">evaluateExpression</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Uses eval to evaluate the expression, using the defined context plus the appropiate 'uid' in it.  <a href="#d4a31208635a53c29380cc4aebab587a"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html" title="The Session class provides a simple way of login and executing function in a server...">Session</a> class provides a simple way of login and executing function in a server. 
<p>
Typical usage of <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html" title="The Session class provides a simple way of login and executing function in a server...">Session</a>:<p>
<div class="fragment"><pre class="fragment"> <span class="keyword">from</span> Koo <span class="keyword">import</span> Rpc
 Rpc.session.login(<span class="stringliteral">'http://admin:admin\@localhost:8069'</span>, <span class="stringliteral">'database'</span>)
 attached = Rpc.session.execute(<span class="stringliteral">'/object'</span>, <span class="stringliteral">'execute'</span>, <span class="stringliteral">'ir.attachment'</span>, <span class="stringliteral">'read'</span>, [1,2,3])
 Rpc.session.logout()
</pre></div> 
<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00292">292</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1d614ba11211a32bd6ba5277a85543b1"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::call" ref="1d614ba11211a32bd6ba5277a85543b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::call           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calls the specified method on the given object on the server. 
<p>
If there is an error during the call it simply rises an exception. See <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#5888cce74b5ea93adfc91a4db63c5b37" title="Same as call() but uses the notify mechanism to notify exceptions.">execute()</a> if you want exceptions to be handled by the notification mechanism. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>Object name (string) that contains the method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>Method name (string) to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Argument list for the given method </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00370">370</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="8bf7bec0ab8f3c1a730fa60244e4e2a0"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::callAsync" ref="8bf7bec0ab8f3c1a730fa60244e4e2a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::callAsync           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>exceptionCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calls asynchronously the specified method on the given object on the server. 
<p>
When the response to the request arrives the callback function is called with the returned value as the first parameter. It returns an AsynchronousSessionCall instance that can be used to keep track to what query a callback refers to, consider that as a call id. If there is an error during the call it simply rises an exception. See <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#5888cce74b5ea93adfc91a4db63c5b37" title="Same as call() but uses the notify mechanism to notify exceptions.">execute()</a> if you want exceptions to be handled by the notification mechanism. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>Function that has to be called when the result returns from the server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionCallback</em>&nbsp;</td><td>Function that has to be called when an exception returns from the server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>Object name (string) that contains the method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>Method name (string) to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Argument list for the given method</td></tr>
  </table>
</dl>
Example of usage: <div class="fragment"><pre class="fragment"> <span class="keyword">from</span> Koo <span class="keyword">import</span> Rpc
 <span class="keyword">def </span>returned(self, value):
        <span class="keywordflow">print</span> value
 Rpc.session.login(<span class="stringliteral">'http://admin:admin\@localhost:8069'</span>, <span class="stringliteral">'database'</span>)
 Rpc.session.post( returned, <span class="stringliteral">'/object'</span>, <span class="stringliteral">'execute'</span>, <span class="stringliteral">'ir.attachment'</span>, <span class="stringliteral">'read'</span>, [1,2,3]) 
 Rpc.session.logout()
</pre></div> 
<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00345">345</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="d4a31208635a53c29380cc4aebab587a"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::evaluateExpression" ref="d4a31208635a53c29380cc4aebab587a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::evaluateExpression           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>context</em> = <code>{}</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Uses eval to evaluate the expression, using the defined context plus the appropiate 'uid' in it. 
<p>

<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00503">503</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="5888cce74b5ea93adfc91a4db63c5b37"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::execute" ref="5888cce74b5ea93adfc91a4db63c5b37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::execute           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Same as <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#1d614ba11211a32bd6ba5277a85543b1" title="Calls the specified method on the given object on the server.">call()</a> but uses the notify mechanism to notify exceptions. 
<p>
Note that you'll need to bind gettext as texts sent to the notify module are localized. 
<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00384">384</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="c4e388cf7a0901cb909850e4505a4996"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::executeAsync" ref="c4e388cf7a0901cb909850e4505a4996" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::executeAsync           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Same as <a class="el" href="classKoo_1_1Rpc_1_1Rpc_1_1Session.html#8bf7bec0ab8f3c1a730fa60244e4e2a0" title="Calls asynchronously the specified method on the given object on the server.">callAsync()</a> but uses the notify mechanism to notify exceptions. 
<p>
Note that you'll need to bind gettext as texts sent to the notify module are localized. 
<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00356">356</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="0eeec0ae6273edd6833cfce90ac6aee1"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::login" ref="0eeec0ae6273edd6833cfce90ac6aee1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::login           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>db</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Logs in the given server with specified name and password. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>url string such as 'http://admin:admin@localhost:8069'. Admited protocols are 'http', 'https' and 'socket' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>string with the database name Returns -1 if an exception occurred while trying to contact the server. Returns -2 if the login information was refused by the server. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00449">449</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="38d3a0e3d90f5d05c90b61384bbf65c3"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::logout" ref="38d3a0e3d90f5d05c90b61384bbf65c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::logout           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Logs out of the server. 
<p>

<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00492">492</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc3eed3d7398d661acee18a88d1ffc27"></a><!-- doxytag: member="Koo::Rpc::Rpc::Session::reloadContext" ref="fc3eed3d7398d661acee18a88d1ffc27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Koo::Rpc::Rpc::Session::reloadContext           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reloads the session context. 
<p>
Useful when some user parameters such as language are changed. 
<p>Definition at line <a class="el" href="Rpc_8py_source.html#l00484">484</a> of file <a class="el" href="Rpc_8py_source.html">Rpc.py</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Rpc_8py_source.html">Rpc.py</a></ul>
</div>
<address><small>Generated by <a target="_blank" href="http://www.doxygen.org/index.html">Doxygen</a></small></address>
</body>
</html>
